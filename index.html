<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
    <script src="https://code.jquery.com/jquery-3.7.0.min.js"
        integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=" crossorigin="anonymous"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <title>Raspador productos m&aacute;s vendidos</title>

    <style>
        :root {
            font-family: Verdana, Geneva, Tahoma, sans-serif;

            --border-color: rgb(43, 44, 39);
        }

        ul {
            list-style: none;
        }

        #category-wrapper {
            padding: 0.75rem;
            box-shadow: 0 0 20px 1px rgba(0, 0, 0, 0.5);
        }

        #category-wrapper>div {
            padding: 0 0 1rem 1.5rem;
        }

        ul.categories-list {
            padding-left: 0;
        }

        ul.categories-list ul {
            padding: 0.25rem 0rem 1rem 2rem;
        }

        .search-wrapper {
            display: flex;
            margin-right: 1rem;
        }

        button.action-button {
            font-size: 1.2rem;
            padding: 0.7rem 1.5rem 0.5rem 1.5rem;
        }

        input.category-search {
            flex-grow: 1;
            padding: 0.25rem 0.5rem;
        }
    </style>
</head>

<body>
    <div style="font-size: 1.2rem;">
        <h3>Categor&iacute;as</h3>
        <div id="category-wrapper" style="display: flex; gap: 0.5rem;">
            <div style="width: 100%;">
                <h4 style="margin-bottom: 0.5rem;">Aliexpress</h4>
                <div id="aliexpress">
                    <div class="search-wrapper">
                        <input placeholder="Escriba para filtrar Categorias" type="text" class="category-search" />
                    </div>
                    <ul class="categories-list" style="overflow: auto; height: 400px;">
                    </ul>
                </div>
            </div>

            <div style="width: 100%">
                <h4 style="margin-bottom: 0.5rem;">Mercado Libre</h4>
                <div id="mercadolibre">
                    <div class="search-wrapper">
                        <input placeholder="Escriba para filtrar Categorias" type="text" class="category-search" />
                    </div>
                    <ul class="categories-list" style="overflow: auto; height: 400px;">
                    </ul>
                </div>
            </div>

            <div style="width: 100%">
                <h4 style="margin-bottom: 0.5rem;">Falabella</h4>
                <div id="falabella">
                    <div class="search-wrapper">
                        <input placeholder="Escriba para filtrar Categorias" type="text" class="category-search" />
                    </div>
                    <ul class="categories-list" style="overflow: auto; height: 400px;">
                    </ul>
                </div>
            </div>
        </div>

        <div style="margin: 1rem 0">
            <button class="action-button" id="scrap-btn">Obtener productos</button>
        </div>
    </div>

    <div id="loading-indicator" style="display: none; margin: 1rem 0;">
        <span>Loading...</span>
    </div>

    <span style="display: block; margin: 1rem 0 0.5rem 0.25rem">Output log</span>
    <textarea id="messages-container"
        style="margin-bottom: 2rem 0; border: 1px solid black; height: 120px; width: 100%; overflow: scroll; resize: vertical;"
        readonly>
    </textarea>

    <div style="display: flex; gap: 1rem; align-items: center; padding: 2rem 0 1rem 0;">
        <span style="display: block; margin: 1rem 0 0.5rem 0.25rem">Productos</span>
        <button class="action-button" id="download-btn" disabled>Descargar Excel</button>
    </div>

    <div id="products" style="padding:1rem; border:1px solid gray; max-height: 90vh; overflow:auto">
        <table id="datatable">
            <thead>
                <tr>
                    <th>position</th>
                    <th>name</th>
                    <th>photo</th>
                    <th>price</th>
                    <th>stars</th>
                    <th>reviews</th>
                    <th>sold</th>
                    <th>category</th>
                    <th>source</th>
                </tr>
            </thead>

            <tbody></tbody>
        </table>
    </div>

    <script src='./renderer.js'></script>

    <template id="parent-category-item">
        <li>
            <input type="checkbox" />
            <label></label>
            <span style="font-style: italic; font-size: 0.8em; padding-left: 0.25;"></span>
            <ul></ul>
        </li>
    </template>

    <template id="child-category">
        <li style="display: flex; align-items: center; padding: 0.25rem 0">
            <input type="checkbox" />
            <label></label>
        </li>
    </template>

    <script type="module"> </script>
</body>

</html>